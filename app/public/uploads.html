<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>图片上传</title>
  </head>
  <body>
    <div class="login">
      用户帐号<input type=text name="userName" size="18" value="" ><br>
      登录密码<input type="password" name="password" size="19" value=""/>
          <input type=submit name="submit1" value="登陆">
    </div>
    <div style="margin:20px 0;">
      <input type="file" id="file" name="file" accept="image/*"/>
    </div>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <script type="text/javascript">
        var file = $("#file");
        file.change(e=>{
          console.log(file[0].files);
          var form = new FormData();
          form.append("fileImg",file[0].files[0]);
          $.ajax({
                type: "post",
                url: "/scanImg.html",
                data: form,
                contentType: false, // 注意这里应设为false
                processData: false,    //false
                cache: false,    //缓存
                success: function(data){
                    console.log(data);
                }
          })
        })
        var submit =$("input[name='submit1']")
        submit.click(()=>{
          var userName=$("input[name='userName']").val();
          var password=$("input[name='password']").val();
          $.ajax({
                type: "post",
                url: "/login.html",
                data: {
                  userName,
                  password
                },
                header:{
                  'content-type':'application/json; charset=UTF-8;'
                },
                success: function(data){
                    console.log(data);
                }
          })

        })
    </script>
  </body>
</html>
